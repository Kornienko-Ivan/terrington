(o=>{function e(){768<o(window).width()?o(".productTextImage__block").each(function(){var e=o(this).find(".productTextImage__textWrapper"),t=o(this).find(".productTextImage__image");e.length&&t.length&&(e=e.outerHeight(),t.css("height",e+"px"))}):o(".productTextImage__image").css("height","")}o(document).ready(function(){e(),o(window).on("resize",function(){e()})})})(jQuery),(t=>{t('a[href^="#"]').click(function(e){e.preventDefault();e=t(this).attr("href");t("html, body").animate({scrollTop:t(e).offset().top-120},1e3)})})(jQuery),(t=>{t(document).ready(function(){function e(){t(window).width()<=992?t(".heroMain__slider--js").hasClass("slick-initialized")||t(".heroMain__slider--js").slick({slidesToShow:2,slidesToScroll:1,autoplay:!1,autoplaySpeed:3e3,dots:!1,arrows:!0,prevArrow:t(".heroMain__slider__prev"),nextArrow:t(".heroMain__slider__next"),responsive:[{breakpoint:768,settings:{slidesToShow:1}}]}):t(".heroMain__slider--js").hasClass("slick-initialized")&&t(".heroMain__slider--js").slick("unslick")}e(),t(window).on("resize",function(){e()})})})(jQuery),(t=>{function o(e){t(".dealerBlock__locationsList__item").each(function(){t(this).find(".dealerBlock__locationsList__itemName").text().toLowerCase().includes(e)?t(this).show():t(this).hide()})}jQuery(document).ready(function(e){e("#locationSearchBtn").on("click",function(){o(e(this).parent().find("#locationSearch").val().toLowerCase())}),e("#locationSearch").on("focus",function(){var t=e(this);e(document).on("keypress",function(e){13==e.which&&t.is(":focus")&&o(t.val().toLowerCase())})})})})(jQuery),(c=>{c(document).ready(function(){function i(){var e=c(".header__wrapper"),t=c(".header_offset");e.length&&t.length&&(e.hasClass("fixed")?t.css("height",e.outerHeight()):t.css("height","0"))}function o(){var e,t,o=c("#header"),n=c("#header .menu");o.length&&(o=n.find(".menu-item:not(.sub-menu .menu-item)"),e=null,t="ontouchstart"in window||0<navigator.maxTouchPoints,o.length)&&(o.on("mouseenter",function(){t||(e&&(clearTimeout(e),e=null),c(this).addClass("open"),c(this).find(".sub-menu").addClass("open"))}),o.on("mouseleave",function(){t||(c(this).find(".sub-menu").removeClass("open"),c(this).removeClass("open"))}),t)&&(o.on("click",function(e){var t=c(this),o=t.find(".sub-menu");o.length&&(e.preventDefault(),t.hasClass("open")?window.location.href=t.children("a").attr("href"):(c(".menu-item").removeClass("open"),c(".sub-menu").removeClass("open"),t.addClass("open"),o.addClass("open")))}),c(document).on("click",function(e){c(e.target).closest(".menu-item").length||(c(".menu-item").removeClass("open"),c(".sub-menu").removeClass("open"))}))}function n(){var e=c(".header__burger"),t=c(".header_close"),s=c(".header__right--mobile"),o=c("#wpadminbar"),n=0<o.length?o.outerHeight(!0):0;console.log(n),e.length&&s.length&&e.on("click",function(){s.addClass("opened").css("top",n+"px"),c("body").addClass("no-scroll")}),t.length&&s.length&&t.on("click",function(){s.removeClass("opened").css("top",""),c("body").removeClass("no-scroll"),c(".mobile-submenu").remove()}),s.on("click",".menu-item-has-children > a",function(e){e.preventDefault();var t,o,n,e=c(this).siblings(".sub-menu").clone();e.length&&(o=(t=c('<div class="mobile-submenu"><div class="mobile-submenu-wrapper"></div></div>')).find(".mobile-submenu-wrapper"),n=c('<button class="submenu-back"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.1395 7.26328C13.1932 7.13386 13.223 6.99204 13.2234 6.84332C13.2234 6.84111 13.2234 6.8389 13.2234 6.83669C13.2226 6.5548 13.1146 6.27317 12.8996 6.05809L12.8994 6.05796L7.62151 0.780048C7.18967 0.348211 6.48953 0.348211 6.05769 0.780048C5.62585 1.21188 5.62585 1.91203 6.05769 2.34387L9.44804 5.73422L1.56155 5.73422C0.950845 5.73422 0.455767 6.22929 0.455767 6.84C0.455768 7.45071 0.950845 7.94579 1.56155 7.94579L9.44804 7.94579L6.05769 11.3361C5.62585 11.768 5.62585 12.4681 6.05769 12.9C6.48953 13.3318 7.18967 13.3318 7.62151 12.9L12.8996 7.62191C13.0056 7.51589 13.0856 7.3937 13.1395 7.26328Z" fill="black" /></svg></button>'),o.append(e),o.append(n),s.append(t),s.addClass("submenu-active"))}),s.on("click",".submenu-back",function(){c(".mobile-submenu").remove(),s.removeClass("submenu-active")})}function s(){var t,o,n,s=c(".header__wrapper");s.length&&(t=c(".admin-bar").length?32:0,o=s.offset().top-t,n=!1,c(window).on("scroll",function(){var e;a&&(e=c(window).scrollTop(),o<=e&&!n?(s.addClass("fixed").css("top",t+"px"),n=!0):e<o&&n&&(s.removeClass("fixed").css("top","0px"),n=!1),i())}))}var a=992<window.innerWidth,r=!a;(a?(o(),s):n)(),c(window).on("resize",function(){var e=992<window.innerWidth,t=!e;e&&r?(r=!(a=!0),o(),s()):t&&a&&(r=!(a=!1),n())}),i()})})(jQuery),(t=>{t(document).ready(function(){function e(){t(".heroBrands__slider--js").hasClass("slick-initialized")||t(".heroBrands__slider--js").slick({slidesToShow:4,slidesToScroll:1,autoplay:!1,autoplaySpeed:3e3,dots:!1,arrows:!0,prevArrow:t(".heroBrands__slider__prev"),nextArrow:t(".heroBrands__slider__next"),responsive:[{breakpoint:1450,settings:{slidesToShow:3}},{breakpoint:1200,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:2}}]})}e(),t(window).on("resize",function(){e()})})})(jQuery),(i=>{function e(){i(".news-slider--js").hasClass("slick-initialized")||i(".news-slider--js").slick({slidesToShow:3,slidesToScroll:1,autoplay:!1,autoplaySpeed:3e3,dots:!0,arrows:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1}}]})}i(document).ready(function(){i(".news__loadMore .button").click(function(e){e.preventDefault();var t=i(this),o=t.text(),n=(t.text("Loading...").prop("disabled",!0),i(".news__list .post-card").length),s=i(".news__list").attr("data-posts-count");i.ajax({url:codelibry.ajax_url,type:"post",data:{action:"newsLoadMore",postsCount:n},success:function(e){i(".news__list").html(e),s<=n+9?i(".news__loadMore").remove():t.text(o).prop("disabled",!1)},error:function(){t.text(o).prop("disabled",!1),alert("Ошибка загрузки. Попробуйте еще раз.")}})})}),e(),i(window).on("resize",function(){e()})})(jQuery),(o=>{o(document).ready(function(){function e(){var e=o(".productImageSlider--js .slick-list");e.length&&(e=parseInt(e.css("padding-right"),10)||0,o(".productImageSlider__next").css("right",e+45.5+"px"),o(".productImageSlider__prev").css("left",e+45.5+"px"))}function t(){o(".productImageSlider--js").hasClass("slick-initialized")||(o(".productImageSlider--js").on("init",function(e,t){o(this).find(".slick-list").append(o(".productImageSlider__prev")).append(o(".productImageSlider__next"))}),o(".productImageSlider--js").slick({slidesToShow:1,slidesToScroll:1,infinite:!0,accessibility:!1,autoplay:!1,autoplaySpeed:3e3,dots:!1,arrows:!0,centerMode:!0,centerPadding:"17.4%",prevArrow:o(".productImageSlider__prev"),nextArrow:o(".productImageSlider__next"),responsive:[{breakpoint:1024,settings:{centerPadding:"10%"}},{breakpoint:768,settings:{centerPadding:"5%"}}]}),o(".productImageSlider--js").on("setPosition",e))}t(),o(window).on("resize",function(){t(),e()})})})(jQuery),(l=>{function e(){var e=l(".see-all-brands").prop("checked"),t=l('[data-name="brand"] input[type="checkbox"]').not(".see-all-brands");t.prop("checked",e),t.prop("disabled",e)}function t(){var e=l('[data-name="brand"] input[type="checkbox"]').not(".see-all-brands"),e=(e.not(this).prop("checked",!1),e.filter(":checked").length);l(".see-all-brands").prop("disabled",!1),0<e&&l(".see-all-brands").prop("checked",!1)}function o(){l('[data-name="category"] input[type="checkbox"]').not(this).prop("checked",!1)}function n(){l('[name="type"]').not(this).prop("checked",!1)}function s(){return{brand:l('[data-name="brand"] input:checked').map(function(){return l(this).val()}).get(),category:l('[data-name="category"] input:checked').map(function(){return l(this).val()}).get(),type:l('[data-name="type"] input:checked').map(function(){return l(this).val()}).get()}}function i(){l(".dropdown").each(function(){var e=l(this).find("input[type='checkbox']:checked").map(function(){return l(this).parent().text().trim()}).get(),t=l(this).find(".dropdown-selected span");0<e.length?(15<(e=e.join(", ")).length&&(e=e.substring(0,15)+"..."),t.text(e).addClass("choosed")):t.text(l(this).data("name").charAt(0).toUpperCase()+l(this).data("name").slice(1)).removeClass("choosed")})}function a(){l(document).on("click",".category-item",function(){var t=l(this).closest(".category-item").data("category-id");l(".categories-row .filter-card").removeClass("active-card"),l(this).addClass("active-card"),r("category"),l("#filtered-content .subcategories-row").removeClass("hide"),l("#filtered-content .filter-results__posts").addClass("hide"),l("#filtered-content .filter-results__posts").html(""),l(".subcategories").hide(),l(".subcategories[data-category-id='"+t+"']").css("display","grid"),l(".subcategory-item").hide(),l(".subcategory-item").each(function(){var e=l(this).data("category-id");parseInt(e)===parseInt(t)&&(l(this).show(),l(this).addClass("hide-separator"))})})}function r(o,e){for(var e=1<arguments.length&&void 0!==e?e:null,n=4,s=l(window).width(),t=0,i=[{columns:2,maxWidth:769},{columns:3,maxWidth:992}];t<i.length;t++){var a=i[t];if(s<=a.maxWidth){n=a.columns;break}}e="subcategory"===o&&e?(e=l(e).data("category-id"),console.log("Выбранная категория ID:",e),'.subcategories-row .subcategories[data-category-id="'.concat(e,'"] .filter-card')):"category"===o?".categories-row .filter-card":".subcategories .filter-card",console.log("Обработка типа:",o),console.log("Используемый селектор:",e);var r=l(e).length,c=Math.ceil(r/n),d=(console.log("Всего карточек:",r),console.log("Всего рядов:",c),l(e).outerHeight(!0)),r=l("".concat(e,".active-card"));console.log("activeCard:",r),r.each(function(){var e=l(this).index()+1,t=Math.ceil(e/n);console.log("index:",e),console.log("row:",t),t<c&&(e=(s<569?-12:-18)*(c-t)-(c-t)*d-(s<769?"subcategory"===o?99:89:"subcategory"===o?109:82),console.log("newBottom:",e),l(this).css("--before-bottom","".concat(e,"px")))})}l(document).ready(function(){l(document).on("change",".see-all-brands",e),l(document).on("change",'[data-name="brand"] input[type="checkbox"]:not(.see-all-brands)',t),l(document).on("change",'[data-name="category"] input[type="checkbox"]',o),l(document).on("change",'[name="type"]',n),l(document).on("change",".dropdown input[type='checkbox']",function(){i()})}),l(document).ready(function(){console.log("Страница загружена, инициализируем выравнивание...");var e,t=l(".categories-row .filter-card").first();t.length&&(console.log("Первая категория найдена:",t),r("category"),e=t.data("category-id"),(e=l('.subcategories-row .subcategories[data-category-id="'.concat(e,'"] .filter-card')).first()).length)&&(console.log("Первая подкатегория найдена:",e),r("subcategory",t))}),l(document).ready(function(){l(".filter-submit").on("click",function(e){var t;(t=new URL(window.location.href)).search="",window.history.pushState({},"",t),i(),t=s(),l.ajax({url:codelibry.ajax_url,type:"POST",data:{action:"filter_products",brand:t.brand,category:t.category,type:t.type},beforeSend:function(){l("#filtered-content .filter-results__categories").html('<p class="message">Loading...</p>'),l("#filtered-content .filter-results__posts").html(""),l("#filtered-content .filter-results__posts").addClass("hide")},success:function(e){l("#filtered-content .filter-results__categories").html(e),l(".subcategories").hide();var t,e=l(".category-item:first-child");e.length&&(t=e.data("category-id"),l(".subcategories[data-category-id='"+t+"']").show(),console.log("Первая категория обновлена:",e),r("category"),(t=l(".subcategories[data-category-id='"+t+"'] .filter-card:first-child")).length)&&(console.log("Первая подкатегория обновлена:",t),r("subcategory",e))}})}),a(),l(document).on("click",".subcategory-item",function(){var e=l(this).data("subcategory-id"),t=l(this).data("category-id"),o=s();l(".subcategories-row .filter-card").removeClass("hide-separator"),l(".subcategories-row .filter-card").removeClass("active-card"),l(this).addClass("active-card"),r("subcategory",this),l("#filtered-content .filter-results__posts").removeClass("hide"),l.ajax({url:codelibry.ajax_url,type:"POST",data:{action:"filter_posts_by_subcategory",subcategory_id:e,category_id:t,brand:o.brand,type:o.type},beforeSend:function(){l("#filtered-content .filter-results__posts").html('<p class="message">Loading...</p>')},success:function(e){l("#filtered-content .filter-results__posts").html(e)}})}),l(document).on("click",".dropdown-selected",function(e){e.stopPropagation();var e=l(this).closest(".dropdown"),t=e.find(".dropdown-menu");l(".dropdown-menu").not(t).slideUp(200),t.slideToggle(200),l(window).width()<770&&e.find(".dropdown-item").click(function(){l(this).closest(".dropdown-menu").slideUp(200)})}),l(document).on("click",function(e){l(e.target).closest(".dropdown").length||l(".dropdown-menu").slideUp(200)})}),l(window).on("resize",function(){a(),l(".category-item.active-card").each(function(){r("category",l(this))}),l(".subcategory-item.active-card").each(function(){r("subcategory",l(this))})})})(jQuery),(t=>{t(document).ready(function(){function e(){t(".serviceOfferings-slider--js").hasClass("slick-initialized")||t(".serviceOfferings-slider--js").slick({slidesToShow:3,slidesToScroll:1,autoplay:!1,autoplaySpeed:3e3,dots:!0,arrows:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1}}]})}e(),t(window).on("resize",function(){e()})})})(jQuery);